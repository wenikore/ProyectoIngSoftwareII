<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="/templates/principal.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <ui:define name="content">
        <h:form id="formAgregarUsuarioId" style="width: 50%;height: 50%">
            <p:defaultCommand target="saveButtomId"></p:defaultCommand>
            <h1>Registrar Usuario</h1>

            <!--Este panelGrid hace referencia al formulario para capturar información-->
            <p:panelGrid style="width: 100%" >
                <p:row>
                    <p:column>
                        <p:outputLabel value="Identificación " />
                    </p:column>
                    <p:column>
                        <p:inputText value="#{usuarioVmb.personaComponente.identificacion}"
                                     placeholder="Campo requerido*"
                                     id="usuarioIdentificacion"/>
                    </p:column>
                    <p:column>
                        <p:outputLabel for="usuarioPrimerNombre" value="Primer Nombre"/>
                    </p:column>
                    <p:column>
                        <p:inputText value="#{usuarioVmb.personaComponente.primerNombre}"
                                     placeholder="Campo requerido*"
                                     id="usuarioPrimerNombre"/>
                    </p:column>
                </p:row>
                <p:row>
                    <p:column>
                        <p:outputLabel value="Primer Apellido"/>
                    </p:column>
                    <p:column>

                        <p:inputText value="#{usuarioVmb.personaComponente.primerApellido}" 
                                     placeholder="Campo requerido*"
                                     id="usuarioPrimerApellido"/>
                    </p:column>
                </p:row>
                <p:row>
                    <p:column>
                        <p:outputLabel value="Segundo Apellido" />
                    </p:column>
                    <p:column>
                        <p:inputText value="#{usuarioVmb.personaComponente.segundoApellido}" 
                                     placeholder="Campo opcional*"
                                     id="usuarioSegundoApellido"/>
                    </p:column>
                    <p:column>
                        <p:outputLabel value="Fecha de Nacimiento" for="usuarioFechaNacimiento"/>
                    </p:column>
                    <p:column>
                        <p:calendar value="#{usuarioVmb.personaComponente.fechaNacimiento}" 
                                    placeholder="Campo requerido*"
                                    id="usuarioFechaNacimiento"/>
                    </p:column>
                </p:row>
                <p:row>
                    <p:column>
                        <p:outputLabel value="Direccion"/>
                    </p:column>
                    <p:column>
                        <p:inputText value="#{usuarioVmb.personaComponente.direccion}"
                                     placeholder="Campo requerido*"
                                     id="usuarioDireccion"/>
                    </p:column>
                    <p:column>
                        <p:outputLabel value="Teléfono Móvil"
                                       />
                    </p:column>
                    <p:column>
                        <p:inputText value="#{usuarioVmb.personaComponente.telefonoMovil}" 
                                     placeholder="Campo requerido*"
                                     id="usuarioTelefonoMovil"/>
                    </p:column>
                </p:row>
                <p:row>
                    <p:column>
                        <p:outputLabel value="Teléfono Fijo" />
                    </p:column>
                    <p:column>
                        <p:inputText value="#{usuarioVmb.personaComponente.telefonoFijo}" 
                                     placeholder="Campo opcional*"
                                     id="usuarioTelefonoFijo"/>
                    </p:column>
                    <p:column>
                        <p:outputLabel value="Email"/>
                    </p:column>
                    <p:column>
                        <p:inputText value="#{usuarioVmb.personaComponente.email}"
                                     placeholder="Campo requerido*"
                                     id="usuarioEmail"/>
                    </p:column>
                </p:row>
                <p:row>
                    <p:column>
                        <p:outputLabel value="Nombre Usuario"
                                       />
                    </p:column>
                    <p:column>
                        <p:inputText value="#{usuarioVmb.usuarioNombre}"
                                     placeholder="Campo requerido*"
                                     id="usuarioNombreUsuario"/>
                    </p:column>
                    <p:column>
                        <p:outputLabel value="Contraseña"/>
                    </p:column>
                    <p:column>
                        <p:password value="#{usuarioVmb.usuarioPassword}" 
                                    placeholder="Campo requerido*"
                                    id="usuarioContrasena"/>
                    </p:column>
                </p:row>
                <p:row>
                    <p:column>
                        <p:outputLabel value="Repita la Contraseña"/>
                    </p:column>
                    <p:column>
                        <p:password/>
                    </p:column>
                    <p:column>
                        <p:outputLabel value="Roles del Sistema"/>
                    </p:column>
                    <p:column>
                        <p:selectOneMenu  value="#{usuarioVmb.rolComponente.rolNombre}" style="width: 80%">
                            <f:selectItem itemLabel="Seleccione Uno" itemValue="" noSelectionOption="true"/>
                            <f:selectItem itemLabel="Administrador" itemValue="Administrador" />
                        </p:selectOneMenu>
                    </p:column> 
                </p:row>   
            </p:panelGrid>

            <!-- Mensajes de notificacion para cada uno de los campos de texto-->

            <br></br>


            <div align="center">
                <p:commandButton value="Guardar Usuario" id="saveButtomId"
                                 actionListener="#{usuarioVmb.persistirUsuario()}" update="formAgregarUsuarioId"/>
            </div>
        </h:form>
    </ui:define>
</ui:composition>